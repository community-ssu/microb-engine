#Bug 363072  [reflow branch][border-collapse] Table content unnecessarily wrapped FIXED?
Index: mozilla/layout/tables/nsTableFrame.cpp
===================================================================
--- mozilla.orig/layout/tables/nsTableFrame.cpp
+++ mozilla/layout/tables/nsTableFrame.cpp
@@ -1679,18 +1679,20 @@
 
 /* virtual */ nsSize
 nsTableFrame::ComputeAutoSize(nsIRenderingContext *aRenderingContext,
                               nsSize aCBSize, nscoord aAvailableWidth,
                               nsSize aMargin, nsSize aBorder, nsSize aPadding,
                               PRBool aShrinkWrap)
 {
   // Tables always shrink-wrap.
-  nscoord cbBased = aAvailableWidth - aMargin.width - aBorder.width -
-                    aPadding.width;
+  nscoord cbBased = aAvailableWidth - aMargin.width - aPadding.width;
+  if (!IsBorderCollapse()) {
+    cbBased -= aBorder.width;
+  }
   return nsSize(TableShrinkWidthToFit(aRenderingContext, cbBased),
                 NS_UNCONSTRAINEDSIZE);
 }
 
 // Return true if aParentReflowState.frame or any of its ancestors within
 // the containing table have non-auto height. (e.g. pct or fixed height)
 PRBool
 nsTableFrame::AncestorsHaveStyleHeight(const nsHTMLReflowState& aParentReflowState)
