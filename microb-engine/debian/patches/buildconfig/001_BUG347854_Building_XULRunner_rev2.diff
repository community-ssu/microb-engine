# Bug: 347854 UpdateTranslucentWindowAlphaInternal is not defined in minimal profile
#
--- mozilla/widget/src/gtk2/nsWindow.h.orig	2007-09-19 09:37:56.000000000 +0300
+++ mozilla/widget/src/gtk2/nsWindow.h	2007-10-24 15:35:45.000000000 +0300
@@ -341,13 +341,11 @@
 
    void                ResizeTransparencyBitmap(PRInt32 aNewWidth, PRInt32 aNewHeight);
    void                ApplyTransparencyBitmap();
-#ifdef MOZ_XUL
    NS_IMETHOD          SetWindowTranslucency(PRBool aTransparent);
    NS_IMETHOD          GetWindowTranslucency(PRBool& aTransparent);
    nsresult            UpdateTranslucentWindowAlphaInternal(const nsRect& aRect,
                                                             PRUint8* aAlphas, PRInt32 aStride);
    NS_IMETHOD          UpdateTranslucentWindowAlpha(const nsRect& aRect, PRUint8* aAlphas);
-#endif
 
     gfxASurface       *GetThebesSurface();
 
--- mozilla/widget/src/gtk2/nsWindow.cpp.orig	2007-10-12 06:02:26.000000000 +0300
+++ mozilla/widget/src/gtk2/nsWindow.cpp	2007-10-24 15:37:29.000000000 +0300
@@ -3332,17 +3332,6 @@
         GrabKeyboard();
 }
 
-#ifndef MOZ_XUL
-void
-nsWindow::ResizeTransparencyBitmap(PRInt32 aNewWidth, PRInt32 aNewHeight)
-{
-}
-
-void
-nsWindow::ApplyTransparencyBitmap()
-{
-}
-#else
 NS_IMETHODIMP
 nsWindow::SetWindowTranslucency(PRBool aTranslucent)
 {
@@ -3563,7 +3552,6 @@
 {
     return UpdateTranslucentWindowAlphaInternal(aRect, aAlphas, aRect.width);
 }
-#endif
 
 void
 nsWindow::GrabPointer(void)
