#Bug 380659  Incorrect meta tag is used by Save As "Web, page complete" (character encoding specified incorrectly)
Index: content/base/src/nsHTMLContentSerializer.cpp
===================================================================
RCS file: /cvsroot/mozilla/content/base/src/nsHTMLContentSerializer.cpp,v
retrieving revision 1.111
diff -u -8 -p -r1.111 nsHTMLContentSerializer.cpp
--- content/base/src/nsHTMLContentSerializer.cpp	13 May 2007 16:44:06 -0000	1.111
+++ content/base/src/nsHTMLContentSerializer.cpp	14 May 2007 18:40:38 -0000
@@ -759,17 +759,17 @@ nsHTMLContentSerializer::AppendElementSt
   }
 
   if (name == nsGkAtoms::head) {
     // We should also obey the line break rules set for a normal meta tag here.
     // We add a line break before and after the tag's opening.
     AppendToString(mLineBreak, aStr);
     AppendToString(NS_LITERAL_STRING("<meta http-equiv=\"content-type\""),
                    aStr);
-    AppendToString(NS_LITERAL_STRING(" content=\"text/html; "), aStr);
+    AppendToString(NS_LITERAL_STRING(" content=\"text/html; charset="), aStr);
     AppendToString(NS_ConvertASCIItoUTF16(mCharset), aStr);
     AppendToString(NS_LITERAL_STRING("\">"), aStr);
     AppendToString(mLineBreak, aStr);
   }  
 
   return NS_OK;
 }
   
