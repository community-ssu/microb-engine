## 99-unnamed.dpatch by  <agomes@>
##
## All lines beginning with `## DP:' are a description of the patch.
## DP: No description.

Index: mozilla/content/html/content/src/nsGenericHTMLElement.cpp
===================================================================
--- mozilla.orig/content/html/content/src/nsGenericHTMLElement.cpp
+++ mozilla/content/html/content/src/nsGenericHTMLElement.cpp
@@ -941,16 +941,42 @@
       rv = view->ScrollTo(nsPresContext::CSSPixelsToAppUnits(aScrollLeft),
                           yPos, NS_VMREFRESH_IMMEDIATE);
     }
   }
 
   return rv;
 }
 
+
+
+nsresult
+nsGenericHTMLElement::ScrollTopLeft (PRInt32 aScrollTop, PRInt32 aScrollLeft)
+{
+  nsIScrollableView *view = nsnull;
+  nsresult rv = NS_OK;
+
+  GetScrollInfo(&view);
+
+  if (view) {
+    nscoord xPos, yPos;
+
+    rv = view->GetScrollPosition(xPos, yPos);
+
+    if (NS_SUCCEEDED(rv)) {
+      rv = view->ScrollTo(nsPresContext::CSSPixelsToAppUnits(aScrollLeft),
+                          nsPresContext::CSSPixelsToAppUnits(aScrollTop),
+                          NS_VMREFRESH_IMMEDIATE);
+    }
+  } else return NS_ERROR_UNEXPECTED;
+
+  return rv;
+}
+
+
 nsresult
 nsGenericHTMLElement::GetScrollHeight(PRInt32* aScrollHeight)
 {
   NS_ENSURE_ARG_POINTER(aScrollHeight);
   *aScrollHeight = 0;
 
   nsIScrollableView *scrollView;
   nsresult rv = NS_OK;
Index: mozilla/dom/public/idl/html/nsIDOMNSHTMLElement.idl
===================================================================
--- mozilla.orig/dom/public/idl/html/nsIDOMNSHTMLElement.idl
+++ mozilla/dom/public/idl/html/nsIDOMNSHTMLElement.idl
@@ -61,11 +61,12 @@
            attribute long             tabIndex;
 
   void blur();
   void focus();
 
   // |top| is optional in JS, scriptability of this method is done in
   // nsHTMLElementSH
   void scrollIntoView(in boolean top);
+  void scrollTopLeft (in long aScrollTop, in long aScrollLeft);
 
            attribute boolean         spellcheck;
 };
Index: mozilla/content/html/content/src/nsGenericHTMLElement.h
===================================================================
--- mozilla.orig/content/html/content/src/nsGenericHTMLElement.h
+++ mozilla/content/html/content/src/nsGenericHTMLElement.h
@@ -151,16 +151,17 @@
   nsresult SetScrollLeft(PRInt32 aScrollLeft);
   nsresult GetScrollHeight(PRInt32* aScrollHeight);
   nsresult GetScrollWidth(PRInt32* aScrollWidth);
   nsresult GetClientTop(PRInt32* aLength);
   nsresult GetClientLeft(PRInt32* aLength);
   nsresult GetClientHeight(PRInt32* aClientHeight);
   nsresult GetClientWidth(PRInt32* aClientWidth);
   nsresult ScrollIntoView(PRBool aTop);
+  nsresult ScrollTopLeft (PRInt32 aScrollTop, PRInt32 aScrollLeft);
   // Declare Focus(), Blur(), GetTabIndex(), SetTabIndex(), GetSpellcheck() and
   // SetSpellcheck() such that classes that inherit interfaces with those 
   // methods properly override them
   NS_IMETHOD Focus();
   NS_IMETHOD Blur();
   NS_IMETHOD GetTabIndex(PRInt32 *aTabIndex);
   NS_IMETHOD SetTabIndex(PRInt32 aTabIndex);
   NS_IMETHOD GetSpellcheck(PRBool* aSpellcheck);
